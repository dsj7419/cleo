---
title: "cleo release"
description: "Manage release lifecycle for roadmap and changelog integration"
icon: "tag"
---

{/* AUTO-GENERATED - Command documentation */}
{/* LLM agents: See protocols/release.md for the optimized canonical reference */}

# cleo release

Manage release lifecycle for roadmap and changelog integration.

<Info>
**For AI Agents**: The canonical LLM-optimized reference is `protocols/release.md`. Use that instead of this page for token efficiency.
</Info>

## Synopsis

```bash
cleo release <subcommand> [OPTIONS]
```

## Description

The `release` command manages the complete release lifecycle from planning to shipping, including task assignment, version bumping, git tagging, and changelog generation.

<Note>
**Changelog Integration**: `cleo release ship` automatically generates and appends changelog entries to `CHANGELOG.md`. As of v0.84.0, it also generates platform-specific documentation (Mintlify, Docusaurus, etc.) if configured.
</Note>

## Subcommands

| Subcommand | Description |
|------------|-------------|
| `create <version>` | Create a new planned release |
| `plan <version>` | Add/remove tasks from a release |
| `ship <version>` | Mark release as released (set releasedAt) |
| `list` | List all releases |
| `show <version>` | Show release details |
| `changelog <version>` | Generate changelog from release tasks |

## Options

| Option | Description |
|--------|-------------|
| `--target-date DATE` | Set target release date (YYYY-MM-DD) |
| `--tasks T001,T002` | Tasks to include (comma-separated) |
| `--remove T003` | Remove task from release (for plan) |
| `--notes "text"` | Release notes or summary |
| `--bump-version` | Bump VERSION file via dev/bump-version.sh (for ship) |
| `--create-tag` | Create git tag for release (for ship) |
| `--force-tag` | Overwrite existing git tag (requires --create-tag) |
| `--push` | Push git tag to remote (requires --create-tag) |
| `--write-changelog` | **DEPRECATED** - Changelog is auto-generated (since v0.74.0) |
| `--no-changelog` | Skip automatic changelog generation (for ship) |
| `--output FILE` | Output file for changelog (default: CHANGELOG.md) |
| `--format, -f FORMAT` | Output format: text \| json (default: auto) |
| `--json` | Shortcut for --format json |
| `--human` | Shortcut for --format text |
| `-h, --help` | Show help message |

## Release Status Flow

```
planned → active → released
```

## Changelog Integration

### Automatic Changelog Generation

Starting in v0.74.0, `cleo release ship` automatically:

1. **Discovers tasks** associated with the release (via labels or explicit assignment)
2. **Populates** `release.tasks[]` array in todo.json
3. **Generates** changelog from task data (title, description, labels)
4. **Validates** changelog is not empty
5. **Appends** to CHANGELOG.md in Keep a Changelog format
6. **Updates** release status to `released`

### Task Discovery

Tasks are discovered using a 6-filter pipeline during `cleo release ship`:

| Filter | Purpose |
|--------|---------|
| 1. `completedAt` | Must have completion timestamp |
| 2. Date window | Completed between previous and current release |
| 3. `status == "done"` | Must be done (not pending/active/blocked) |
| 4. `type != "epic"` | Excludes organizational epics |
| 5. Label match | Has version label, `changelog`, or `release` label |
| 6. Version exclusivity | Tasks with explicit version labels aren't claimed by other releases |

Tasks are included if they:
- Are explicitly assigned via `cleo release plan --tasks T001,T002`
- Pass the 6-filter discovery pipeline during ship

### Platform Changelog Outputs (v0.84.0+)

When configured, `cleo release ship` also generates documentation-platform-specific changelogs:

```json .cleo/config.json
{
  "release": {
    "changelog": {
      "outputs": [
        { "platform": "mintlify", "enabled": true, "path": "docs/changelog/overview.mdx" }
      ]
    }
  }
}
```

Supported platforms: `mintlify`, `docusaurus`, `github`, `gitbook`, `plain`, `custom`.

<Note>
**Fresh installs**: No platforms are configured by default. Only `CHANGELOG.md` is generated.
Add an entry to `release.changelog.outputs` to enable platform-specific output.
GitHub URLs in generated output are resolved automatically from your `git remote origin`.
</Note>

### Skipping Changelog Generation

Use `--no-changelog` to bypass automatic changelog generation:

```bash
cleo release ship v0.65.0 --no-changelog
```

<Warning>
**Use Case**: Only skip changelog when:
- Generating changelog manually via `cleo release changelog`
- Release has no user-facing changes
- Testing release workflow
</Warning>

<Note>
**Tag Annotation Fallback** (v0.83.0+): When `--no-changelog` is used with `--create-tag`, the tag annotation still gets meaningful release notes. The system falls back to generating notes from git commits since the previous tag using `generate_changelog_from_commits()`. This ensures GitHub Actions always has content for release notes.
</Note>

### Validation Gates

The `ship` command validates:

1. ✓ Release exists and is not already shipped
2. ✓ At least one task is associated with the release
3. ✓ Generated changelog is not empty (unless `--no-changelog`)
4. ✓ CHANGELOG.md is writable
5. ✓ VERSION file matches (if `--bump-version`)

## Examples

<CodeGroup>

```bash Create Release
cleo release create v0.65.0 --target-date 2026-02-01
```

```bash Plan Tasks
cleo release plan v0.65.0 --tasks T2058,T2059
```

<Note>
**Append Behavior**: The `--tasks` option appends to existing tasks and deduplicates automatically.
Calling `plan --tasks T001` then `plan --tasks T002` results in both tasks being included.
Use `--remove` to remove specific tasks.
</Note>

```bash Ship with Automatic Changelog
# Recommended: Let the system discover and generate changelog
cleo release ship v0.65.0 --bump-version --create-tag --push
```

```bash Ship without Changelog
# Skip changelog for minor releases
cleo release ship v0.65.0 --no-changelog
```

```bash Ship with Manual Changelog
# Generate changelog separately first (deprecated workflow)
cleo release changelog v0.65.0
cleo release ship v0.65.0 --no-changelog
```

```bash Ship with Notes
cleo release ship v0.65.0 --notes "Schema 2.8.0 release"
```

```bash List Releases
cleo release list
```

```bash Show Release Details
cleo release show v0.65.0
```

```bash Generate Changelog Only
# Preview or generate without shipping
cleo release changelog v0.65.0
```

</CodeGroup>

## Exit Codes

| Code | Meaning | Recoverable |
|------|---------|:-----------:|
| `0` | Success | No |
| `2` | Invalid arguments | No |
| `4` | Resource not found | No |
| `6` | Validation failed | No |

## Troubleshooting

### "No tasks found for release"

**Cause**: Release has no associated tasks.

**Fix**: Add tasks via `cleo release plan --tasks T001,T002` or ensure tasks have correct labels.

### "Generated changelog is empty"

**Cause**: Tasks don't have sufficient metadata (title/description).

**Fix**: Update task descriptions or use `--no-changelog` to bypass validation.

### "Release already shipped"

**Cause**: Release already has a `releasedAt` timestamp.

**Fix**: Verify with `cleo release show <version>`. Use `cleo release create` for new version.

## See Also

- [Release Protocol](/developer/protocols/release) - Canonical LLM-optimized reference (`protocols/release.md`)
- [Release Management Specification](/developer/specifications/RELEASE-MANAGEMENT-SPEC) - Full release workflow spec
- [generate-changelog](/commands/generate-changelog) - Generate platform changelogs from CHANGELOG.md
- [roadmap](/commands/roadmap) - View project roadmap
- [stats](/commands/stats) - Project statistics
